<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Geek Coffee Grinder</title>
<style>
body {
  margin: 0;
  font-family: 'Arial', sans-serif;
  background: #0f0f0f;
  color: #f5f5f5;
  line-height: 1.6;
  padding: 0 20px;
}

header {
  padding: 60px 20px;
  text-align: center;
}

header h1 {
  font-size: 36px;
  margin-bottom: 20px;
}

header p {
  font-size: 16px;
  max-width: 800px;
  margin: auto;
  color: #bbb;
}

section {
  max-width: 800px;
  margin: 40px auto;
  padding: 0 10px;
}

select {
  width: 100%;
  padding: 12px;
  font-size: 16px;
  border-radius: 10px;
  border: none;
  margin-top: 10px;
  background: #1a1a1a;
  color: #f5f5f5;
}

.result {
  margin-top: 20px;
  padding: 20px;
  background: #1a1a1a;
  border-radius: 12px;
  word-wrap: break-word;
}

.add-coffee {
  margin-top: 40px;
  padding: 20px;
  background: #1a1a1a;
  border-radius: 12px;
}
.add-coffee input, .add-coffee textarea {
  width: 100%;
  margin-top: 10px;
  padding: 10px;
  border-radius: 8px;
  border: none;
  background: #2a2a2a;
  color: #f5f5f5;
}
.add-coffee button {
  margin-top: 10px;
  padding: 12px 20px;
  border: none;
  border-radius: 10px;
  background: #ff6600;
  color: #fff;
  font-weight: bold;
  cursor: pointer;
  transition: background 0.3s;
}
.add-coffee button:hover {
  background: #e55a00;
}

/* Адаптив */
@media(max-width: 600px) {
  header h1 { font-size: 28px; }
  header p { font-size: 14px; }
  section { margin: 20px auto; padding: 0 5px; }
  select { font-size: 14px; }
  .add-coffee button { width: 100%; }
}
</style>
</head>
<body>

<header>
  <h1>Geek Coffee Grinder</h1>
  <p>Это новая ручная кофемолка, которую можно сравнить с топовыми моделями Kingrinder K4 и 1Zpresso J-Max. 
Она оснащена внешней регулировкой помола с точностью 16 микрон, оригинальными жерновами 38 мм с профилем, вдохновлённым Timemore S2C, и магнитным приёмным стаканом. Отлично подходит как для эспрессо, так и для гейзерной кофеварки — тонкая настройка помола гарантирует стабильную экстракцию и чистый вкус. Этот инструмент для тех, кто любит экспериментировать и контролировать каждый шот.</p>
</header>

<section>
  <label>Выбери зерно:</label>
  <select id="coffeeSelect" onchange="showCoffee()">
    <option value="">— выбрать —</option>
  </select>

  <div class="result" id="result" style="display:none;">
    <p><strong>Клики:</strong> <span id="clicks"></span></p>
    <p><strong>Рецепт:</strong> <span id="recipe"></span></p>
    <p><strong>Дескрипторы:</strong> <span id="notes"></span></p>
  </div>
</section>

<section class="add-coffee">
  <h2>Добавить своё зерно</h2>
  <input type="text" id="newName" placeholder="Название зерна">
  <input type="text" id="newClicks" placeholder="Клики">
  <input type="text" id="newRecipe" placeholder="Рецепт">
  <textarea id="newNotes" placeholder="Дескрипторы вкуса"></textarea>
  <button onclick="addCoffee()">Добавить</button>
</section>

<script>
let coffees = {
  brazil: { clicks: "34 клика", recipe: "18г → 36г за 28с", notes: "шоколад, орех, карамель" },
  ethiopia: { clicks: "38 кликов", recipe: "18г → 40г за 30с", notes: "бергамот, цитрус, жасмин" }
};

function saveCoffees() {
  localStorage.setItem('coffees', JSON.stringify(coffees));
}

function loadCoffees() {
  const saved = localStorage.getItem('coffees');
  if (saved) {
    coffees = JSON.parse(saved);
  }
  const select = document.getElementById('coffeeSelect');
  select.innerHTML = '<option value="">— выбрать —</option>';
  for (const key in coffees) {
    const option = document.createElement('option');
    option.value = key;
    option.textContent = key.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
    select.appendChild(option);
  }
}

function showCoffee() {
  const value = document.getElementById("coffeeSelect").value;
  if (!value) return;
  const coffee = coffees[value];
  document.getElementById("clicks").textContent = coffee.clicks;
  document.getElementById("recipe").textContent = coffee.recipe;
  document.getElementById("notes").textContent = coffee.notes;
  document.getElementById("result").style.display = "block";
}

function addCoffee() {
  const name = document.getElementById("newName").value.trim();
  const clicks = document.getElementById("newClicks").value.trim();
  const recipe = document.getElementById("newRecipe").value.trim();
  const notes = document.getElementById("newNotes").value.trim();
  if(!name || !clicks || !recipe || !notes) return alert('Заполните все поля');

  const key = name.toLowerCase().replace(/\s+/g, '_');
  coffees[key] = { clicks, recipe, notes };

  const select = document.getElementById('coffeeSelect');
  const option = document.createElement('option');
  option.value = key;
  option.textContent = name;
  select.appendChild(option);

  saveCoffees();

  document.getElementById('newName').value = '';
  document.getElementById('newClicks').value = '';
  document.getElementById('newRecipe').value = '';
  document.getElementById('newNotes').value = '';

  alert('Зерно добавлено!');
}

window.onload = loadCoffees;
</script>

</body>
</html>
